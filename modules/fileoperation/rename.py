'''
Created on 24 Kas 2015

@author: mint
'''

import os
 
def change_file_ext(cur_dir, old_ext, new_ext, sub_dirs=False):
    '''
    https://gomputor.wordpress.com/2008/09/29/change-the-extension-of-multiple-files-in-a-chosen-directory-with-python/
    @param cur_dir the directory which include the file
    @param old_ext
    @param new_ext
    @param sub_dir
    '''
    if sub_dirs:
        for root, dirs, files in os.walk(cur_dir):
            for filename in files:
                file_ext = os.path.splitext(filename)[1]
                if old_ext == file_ext:
                    oldname = os.path.join(root, filename)
                    newname = oldname.replace(old_ext, new_ext)
                    os.rename(oldname, newname)
    else:
        files = os.listdir(cur_dir)
        for filename in files:
            file_ext = os.path.splitext(filename)[1]
            if old_ext == file_ext:
                newfile = filename.replace(old_ext, new_ext)
                os.rename(filename, newfile)

# change all .txt files to .html only in this directory
#change_file_ext('/home/user/my_files', '.txt', '.html')
# change all .txt files to .html also in sub-directories
#change_file_ext('/home/user/my_files', '.txt', '.html', True)
             
'''
Rename mail output files
'''
def renameFile(folderPath):
    for filename in os.listdir(folderPath):
        newFileName = filename[:-9]+".mail"
        #print filename+" is renamed as "+newFileName
        os.rename(folderPath+filename, folderPath+newFileName)
        print filename+" is renamed as "+newFileName
        
renameFile("/home/mint/workspace/malwareDetection/dataSet/MAIL/malware/NGVCK2/")     
        
        
        